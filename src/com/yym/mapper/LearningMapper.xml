<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yym.dao.LearningDao">
	<select id="selTableName" parameterType="String" resultType="String">
		select tableName from wordbooks where bookName=#{bookName}
	</select>
	<select id="selWords" parameterType="map" resultType="com.yym.entity.Words" >
		select * from ${table_name} where wid between #{start} and #{end}
	</select>
	<insert id="insWords" parameterType="map">
		insert into ${table_name}(word,us_pron,uk_pron,us_mp3,uk_mp3,explanation,val_ex1,bil_ex1,
		val_ex2,bil_ex2,val_ex3,bil_ex3,collocation,completed,dates) values(#{word},
		#{us_pron},#{uk_pron},#{us_mp3},#{uk_mp3},#{explanation},#{val_ex1},#{bil_ex1},#{val_ex2},#{bil_ex2},
		#{val_ex3},#{bil_ex3},#{collocation},#{completed},#{dates})
	</insert>
	<!-- 获取用户单词表的count，用来判断是否有数据 -->
	<select id="getCount" parameterType="string" resultType="int">
		select count(*) from ${table_name}
	</select>
	<!-- 从单词表中获取status=0即未学的单词 -->
	<select id="getWords" resultType="com.yym.entity.UserWords">
		select * from ${table_name} where status=0
	</select>
	<!-- 设置单词为已学status=0 -->
	<update id="updStatus">
		update ${table_name} set status=1 where id=#{id}
	</update>
</mapper>